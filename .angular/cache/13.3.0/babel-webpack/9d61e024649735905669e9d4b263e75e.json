{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/category.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction SelectparentcategoryComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"img\", 7);\n    i0.ɵɵelementStart(2, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function SelectparentcategoryComponent_div_0_div_6_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const category_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return ctx_r4.getid(category_r3.id, category_r3.has_category, category_r3.name, category_r3.properties, category_r3.is_color, category_r3.is_size, category_r3.is_online);\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const category_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://dalilisouq.com/\", category_r3.icon, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", category_r3.name, \" \");\n  }\n}\n\nfunction SelectparentcategoryComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"a\", 2);\n    i0.ɵɵelement(3, \"i\", 3);\n    i0.ɵɵtext(4, \"Select category\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 4);\n    i0.ɵɵtemplate(6, SelectparentcategoryComponent_div_0_div_6_Template, 4, 2, \"div\", 5);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.categories);\n  }\n}\n\nfunction SelectparentcategoryComponent_div_1_div_13_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"input\", 23);\n    i0.ɵɵelementStart(2, \"label\", 24);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const option_r11 = ctx.$implicit;\n    const prop_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"name\", prop_r8.name);\n    i0.ɵɵpropertyInterpolate(\"id\", option_r11.id);\n    i0.ɵɵpropertyInterpolate(\"value\", prop_r8.name);\n    i0.ɵɵproperty(\"type\", prop_r8.type.name == \"Multi Select\" ? \"checkbox\" : \"radio\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", option_r11.name, \" \");\n  }\n}\n\nfunction SelectparentcategoryComponent_div_1_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19)(2, \"a\", 20);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, SelectparentcategoryComponent_div_1_div_13_div_4_Template, 4, 5, \"div\", 21);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const prop_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", prop_r8.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", prop_r8.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", prop_r8.options);\n  }\n}\n\nfunction SelectparentcategoryComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 9)(2, \"div\", 10)(3, \"form\", 11, 12);\n    i0.ɵɵlistener(\"ngSubmit\", function SelectparentcategoryComponent_div_1_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.submit();\n    });\n    i0.ɵɵelementStart(5, \"div\", 13)(6, \"a\");\n    i0.ɵɵelement(7, \"i\", 3);\n    i0.ɵɵtext(8, \"properties\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 14);\n    i0.ɵɵtext(10, \"submit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 15)(12, \"div\", 16);\n    i0.ɵɵtemplate(13, SelectparentcategoryComponent_div_1_div_13_Template, 5, 3, \"div\", 17);\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(4);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"disabled\", _r6.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.properties);\n  }\n}\n\nexport let SelectparentcategoryComponent = /*#__PURE__*/(() => {\n  class SelectparentcategoryComponent {\n    constructor(catserve, route, active) {\n      this.catserve = catserve;\n      this.route = route;\n      this.active = active;\n      this.i = 0;\n    }\n\n    ngOnInit() {\n      this.data = this.active.snapshot.params['data'];\n      this.data = JSON.parse(this.data); //   if(this.data.store_flag==1)\n      //  { this.catserve.all().subscribe((res)=>{this.respose=res\n      //     this.categories=this.respose.Response\n      // })}\n\n      if (this.data.update2 == 0 && (this.data.update == 0 || this.data.category_ids[0] == this.data.update)) {\n        this.data.category_ids = [];\n        this.data.category_name = [];\n        delete this.data.colors;\n        delete this.data.properties;\n\n        if (this.data.store_id == 0) {\n          this.catserve.all().subscribe(res => {\n            this.respose = res;\n            this.categories = this.respose.Response;\n          });\n        } else {\n          this.catserve.categories_store(this.data.store_id).subscribe(res => {\n            this.respose = res;\n            this.categories = this.respose.Response;\n          });\n        }\n      } else {\n        if (this.data.update2 != 0) {\n          this.catserve.sub_categories(this.data.category_ids[this.data.category_ids.indexOf(this.data.update2) - 1]).subscribe(res => {\n            this.respose = res;\n            let categories;\n            categories = this.respose.Response;\n            this.data = JSON.parse(this.data);\n\n            if (categories) {\n              for (let i = 0; i < categories.length; i++) {\n                if (categories[i].id == this.data.update2) {\n                  this.properties = categories[i].properties;\n                }\n              }\n            }\n\n            this.data = JSON.stringify(this.data);\n          });\n        } else {\n          console.log(typeof this.data);\n          this.catserve.sub_categories(this.data.category_ids[this.data.category_ids.indexOf(this.data.update) - 1]).subscribe(res => {\n            this.respose = res;\n            this.categories = this.respose.Response;\n          });\n        }\n      }\n\n      this.data = JSON.stringify(this.data);\n    }\n\n    getid(id, has_category, name, prop, is_color, is_size, is_online) {\n      this.data = JSON.parse(this.data);\n\n      if (this.data.store_flag == 1) {\n        this.data.category_id = id, this.data.category_store_name = name;\n        this.route.navigateByUrl(`home/me/profile/stores/add-store/${JSON.stringify(this.data)}`);\n      }\n\n      if (this.data.offer_flag == 1) {\n        this.data.category_id = id, this.data.category_store_name = name;\n        this.route.navigateByUrl(`home/me/profile/offers/offer-add/${JSON.stringify(this.data)}`);\n      }\n\n      if (this.data.update != 0) {\n        this.data.category_name = this.data.category_name.slice(0, this.data.category_ids.indexOf(this.data.update));\n        this.data.category_ids = this.data.category_ids.slice(0, this.data.category_ids.indexOf(this.data.update));\n        delete this.data.colors;\n        delete this.data.properties;\n        this.data.update = 0;\n      }\n\n      this.data = JSON.stringify(this.data);\n\n      if (has_category == true) {\n        this.data = JSON.parse(this.data);\n        this.data.category_ids.push(id);\n        this.data.category_name.push(name);\n        this.data = JSON.stringify(this.data);\n        this.catserve.sub_categories(id).subscribe(res => {\n          this.respose = res;\n          this.categories = this.respose.Response;\n        }); // this.i++  \n        //this.route.navigateByUrl(`home/me/profile/my-profile/select-category/${id}/${this.data}`)\n      } else {\n        if (prop.length == 0) {\n          console.log(this.categories);\n          this.data = JSON.parse(this.data);\n          this.data.category_name.push(name);\n          this.data.category_ids.push(id);\n          this.data.properties = [];\n          this.data.is_color = is_color;\n          this.data.is_size = is_size;\n          this.data.is_online = is_online;\n          this.data = JSON.stringify(this.data);\n\n          if (is_color != 0 || is_size != 0) {\n            this.route.navigateByUrl(`home/me/profile/my-profile/properity-color/${this.data}`);\n          } else this.route.navigateByUrl(`home/me/profile/my-profile/add_product/${this.data}`);\n        } else {\n          this.properties = prop; // this.catserve.properities(id).subscribe(\n          //   (res)=>{this.respose=res;\n          //     this.sizes=this.respose.Response.sizes\n          //     this.colors=this.respose.Response.colors\n          //   })\n\n          this.data = JSON.parse(this.data);\n          this.data.category_name.push(name);\n          this.data.category_ids.push(id);\n          this.data.is_color = is_color;\n          this.data.is_size = is_size;\n          this.data.is_online = is_online;\n          this.data.properties = [];\n          this.data = JSON.stringify(this.data);\n          console.log(this.data);\n        }\n      }\n    } //storedata(event:any,prop_id:number,option_id:number,i:number,j:number){console.log(event.target.value,prop_id)\n    // let option={'id':prop_id,\"mandatory\":0,'name':event.target.value,'selected':event.target.checked,\"type_id\":0}\n    //}\n\n\n    submit() {\n      var _a, _b;\n\n      let properities = [];\n      let values = [];\n      let options = [];\n      let option;\n      let test = [];\n\n      for (let i = 0; i < this.properties.length; i++) {\n        for (let j = 0; j < this.properties[i].options.length; j++) {\n          let input = document.getElementById(this.properties[i].options[j].id);\n\n          if (input != null) {\n            if (input.checked) {\n              test.push(1);\n              option = {\n                id: this.properties[i].options[j].id,\n                \"mandatory\": 0,\n                name: this.properties[i].options[j].name,\n                selected: 1,\n                type_id: this.properties[i].type_id\n              };\n              options.push(option);\n              values.push(this.properties[i].options[j].id); //  { let p={id:this.properties[i].id,\"mandatory\":0,name:this.properties[i].name,\n              //           options:{id:this.properties[i].options[j].id,\"mandatory\":0,name:this.properties[i].options[j].name,selected:1,type_id:this.properties[i].type_id},\n              //           selected:1,type_id:this.properties[i].type_id,values:values.push(this.properties[i].options[j].id)}\n            } else {\n              option = {\n                id: this.properties[i].options[j].id,\n                \"mandatory\": 0,\n                name: this.properties[i].options[j].name,\n                selected: 0,\n                type_id: this.properties[i].type_id\n              };\n              options.push(option); // values.push(this.properties[i].options[j].id) \n            }\n          }\n        }\n\n        let p = {\n          id: this.properties[i].id,\n          \"mandatory\": 0,\n          name: this.properties[i].name,\n          options: options,\n          selected: 0,\n          type_id: this.properties[i].type_id,\n          value: values\n        };\n        properities.push(p);\n        options = [];\n        values = [];\n\n        if (test.length == 0) {\n          this.next = 1;\n          (_a = document.getElementsByClassName('activediv')[0]) === null || _a === void 0 ? void 0 : _a.classList.remove('activediv');\n          (_b = document.getElementById(this.properties[i].name)) === null || _b === void 0 ? void 0 : _b.classList.add('activediv');\n          break;\n        } else {\n          this.next = 0;\n          test = [];\n        }\n      }\n\n      if (this.next != 1) {\n        this.data = JSON.parse(this.data);\n        this.data.properties = properities;\n\n        if ((this.data.is_color != 0 || this.data.is_size != 0) && this.data.update2 == 0) {\n          this.data = JSON.stringify(this.data);\n          this.route.navigateByUrl(`home/me/profile/my-profile/properity-color/${this.data}`);\n        } else {\n          this.data = JSON.stringify(this.data);\n          this.route.navigateByUrl(`home/me/profile/my-profile/add_product/${this.data}`);\n        }\n      } //this.route.navigateByUrl(`home/me/profile/my-profile/add_product/${this.data}`)\n\n    }\n\n  }\n\n  SelectparentcategoryComponent.ɵfac = function SelectparentcategoryComponent_Factory(t) {\n    return new (t || SelectparentcategoryComponent)(i0.ɵɵdirectiveInject(i1.CategoryService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  SelectparentcategoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SelectparentcategoryComponent,\n    selectors: [[\"app-selectparentcategory\"]],\n    decls: 2,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [1, \"card-header\", \"header\"], [\"routerLink\", \"/home/me/profile/my-profile/add_product/data\"], [1, \"fa\", \"fa-arrow-left\", \"mr-3\"], [1, \"row\", \"card-body\"], [\"class\", \"me card-header col-md-6 header rounded d-flex justify-content-between align-items-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"me\", \"card-header\", \"col-md-6\", \"header\", \"rounded\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"width\", \"60px\", \"height\", \"20px\", 3, \"src\"], [1, \"d-flex\", \"h3\", 3, \"click\"], [1, \"row\"], [\"id\", \"prop\", 1, \"col-xs-12\", \"col-sm-12\", \"col-md-12\", \"col-lg-12\", \"col-xs-offset-3\", \"bg\"], [1, \"form\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"card-header\", \"d-flex\", \"justify-content-between\"], [\"type\", \"submit\", 1, \"\", 3, \"disabled\"], [1, \"container\"], [1, \"row\", \"m-2\"], [\"class\", \"col-md-4 my-2 \", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\", \"my-2\"], [1, \"me\", \"card-body\", \"h-100\", \"header\", \"rounded\", 3, \"id\"], [1, \"card-header\", \"d-flex\", \"h3\"], [\"class\", \"form-check\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-check\"], [1, \"form-check-input\", 3, \"type\", \"name\", \"id\", \"value\"], [\"for\", \"defaultCheck1\", 1, \"form-check-label\"]],\n    template: function SelectparentcategoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SelectparentcategoryComponent_div_0_Template, 7, 1, \"div\", 0);\n        i0.ɵɵtemplate(1, SelectparentcategoryComponent_div_1_Template, 14, 2, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.properties);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.properties);\n      }\n    },\n    directives: [i3.NgIf, i2.RouterLinkWithHref, i3.NgForOf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm],\n    styles: [\".card-header[_ngcontent-%COMP%]{background-color:#fff}h4.title[_ngcontent-%COMP%]{bottom:0;left:0;right:0;padding:1rem;color:#fff;background-color:#0009;margin:0;text-align:center;opacity:.5;width:30%}img[_ngcontent-%COMP%]{height:40px!important}.header[_ngcontent-%COMP%]{background-color:#fff}.me[_ngcontent-%COMP%]{transition:.3s}.me[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.link[_ngcontent-%COMP%]{background-color:#fff;color:silver;width:50%}.link[_ngcontent-%COMP%]:hover{background-color:#113859;color:#fff!important}.basiccolor[_ngcontent-%COMP%]{color:#113859}.card[_ngcontent-%COMP%]{border-top:1px solid;border-radius:1rem}.price[_ngcontent-%COMP%]{border-bottom:solid;border-bottom-left-radius:2rem;border-bottom-right-radius:2rem;background-color:#113859;color:#fff;width:50%;margin:auto;text-align:center}.card-header[_ngcontent-%COMP%], .borderbottom[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}li[_ngcontent-%COMP%]{border-left:none;border-right:none}button[_ngcontent-%COMP%]{background-color:#8c1434;border:1px solid #8c1434;color:#fff;border-radius:1.4rem}a[_ngcontent-%COMP%]:hover{cursor:pointer}.circle[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid silver;border-radius:50%}.active[_ngcontent-%COMP%]{border:1px solid black}#prop[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:after{content:none!important}.activediv[_ngcontent-%COMP%]{border:1px solid red}\"]\n  });\n  return SelectparentcategoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}